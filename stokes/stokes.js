var parameters = {
    "id":"ggb",
    "width":600,
    "height":500,
    "showToolBar":false,
    "borderColor":null,
    "showMenuBar":false,
    "showAlgebraInput":false,
    "showResetIcon":false,
    "enableLabelDrags":false,
    "enableShiftDragZoom":true,
    "enableRightClick":false,
    "capturingThreshold":null,
    "showToolBarHelp":false,
    "errorDialogsActive":false,
    "useBrowserForJS":true,
    "ggbBase64":"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"
};
var applet = new GGBApplet(parameters, '5.0');
applet.setHTML5Codebase('https://app.geogebra.org/5.0/web3d/');
var ggbInit = false;

window.onload = function() {
    applet.inject('applet_container','preferHTML5');
    initialValues();
}

function ggbOnInit(){
    document.ggb.enableRightClick(false);
}

function initialValues() {
    document.getElementById('xuv').value = '3sin(u)cos(v)';
    document.getElementById('yuv').value = '3sin(u)sin(v)';
    document.getElementById('zuv').value = '3cos(u)';
    document.getElementById('ui').value = '0';
    document.getElementById('uf').value = 'pi/2';
    document.getElementById('vi').value = '0';
    document.getElementById('vf').value = '2pi';

    document.getElementById('xt').value = '3cos(t)';
    document.getElementById('yt').value = '3sin(t)';
    document.getElementById('zt').value = '0';
    document.getElementById('ti').value = '0';
    document.getElementById('tf').value = '2pi';

    document.getElementById('fx').value = 'y';
    document.getElementById('fy').value = '-x';
    document.getElementById('fz').value = '0';
    
    /*document.getElementById('superficie').value = 'x+y';
    document.getElementsByName('tipo')[0].checked = true;
    document.getElementById('parametrica').style.display = 'none';
    document.getElementById('implicita').style.display = 'block';*/
}

function geogebra(comando){
    document.ggb.evalCommand(comando);
}

function calcular(){
    plotSuperficie();
    plotCurva();
    var resultado;
    var fx = document.getElementById('fx').value;
    var fy = document.getElementById('fy').value;
    var fz = document.getElementById('fz').value;
    if(ti>tf) {
        alert('O par√¢metro t inicial da curva deve ser menor que o t final.');
        return;
    }
    geogebra('fx(x,y,z)='+fx);
    geogebra('fy(x,y,z)='+fy);
    geogebra('fz(x,y,z)='+fz);
    resultado = document.ggb.getValue('integral');
    if (isNaN(resultado)) calcular();
    document.getElementById('resultado').innerHTML =  Math.abs(resultado) < 0.01 ?  0 : resultado.toFixed(2);
    document.getElementById('resultadoBox').style.display = 'block';
    MathJax.Hub.Typeset();
}

function plotSuperficie(){
    var xuv = document.getElementById('xuv').value;   
    var yuv = document.getElementById('yuv').value;   
    var zuv = document.getElementById('zuv').value;   
    var ui = document.getElementById('ui').value;   
    var uf = document.getElementById('uf').value;   
    var vi = document.getElementById('vi').value;   
    var vf = document.getElementById('vf').value;

    /*geogebra('xuv(u,v)='+xuv);
    geogebra('yuv(u,v)='+yuv);
    geogebra('zuv(u,v)='+zuv);
    geogebra('ui='+ui);
    geogebra('uf='+uf);
    geogebra('vi='+vi);
    geogebra('vf='+vf);*/
    geogebra('superficie=Surface('+xuv+','+yuv+','+zuv+',u,'+ui+','+uf+',v,'+vi+','+vf+')');
}

function plotCurva(){
    var rx = document.getElementById('xt').value;
    var ry = document.getElementById('yt').value;
    var rz = document.getElementById('zt').value;
    var ti = document.getElementById('ti').value;
    var tf = document.getElementById('tf').value;

    geogebra('rx(t)='+rx);
    geogebra('ry(t)='+ry);
    geogebra('rz(t)='+rz);
    geogebra('ti='+ti);
    geogebra('tf='+tf);
}

/*
function tipoFuncao() {
    var implicita = document.getElementsByName('tipo')[0].checked;
    if(implicita) {
        document.getElementById('parametrica').style.display = 'none';
        document.getElementById('implicita').style.display = 'block';
    }
    else {
        document.getElementById('implicita').style.display = 'none';
        document.getElementById('parametrica').style.display = 'block';
    }
}*/