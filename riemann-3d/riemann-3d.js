var param1 = {
	"id":"ggb1",
	"width":600,
	"height":500,
	"showToolBar":false,
	"borderColor":null,
	"showMenuBar":false,
	"showAlgebraInput":false,
	"showResetIcon":false,
	"enableLabelDrags":false,
	"enableShiftDragZoom":false,
	"enableRightClick":false,
	"capturingThreshold":null,
	"showToolBarHelp":false,
	"errorDialogsActive":false,
	"useBrowserForJS":true,
	"ggbBase64":"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"};
var param2 = {
	"id":"ggb2",
	"width":600,
	"height":500,
	"showToolBar":false,
	"borderColor":null,
	"showMenuBar":false,
	"showAlgebraInput":false,
	"showResetIcon":false,
	"enableLabelDrags":false,
	"enableShiftDragZoom":true,
	"enableRightClick":false,
	"capturingThreshold":null,
	"showToolBarHelp":false,
	"errorDialogsActive":false,
	"useBrowserForJS":true,
	"ggbBase64":"UEsDBBQACAgIAI9aEUsAAAAAAAAAAAAAAAAWAAAAZ2VvZ2VicmFfamF2YXNjcmlwdC5qc0srzUsuyczPU0hPT/LP88zLLNHQVKiu5QIAUEsHCEXM3l0aAAAAGAAAAFBLAwQUAAgICACPWhFLAAAAAAAAAAAAAAAAFwAAAGdlb2dlYnJhX2RlZmF1bHRzMmQueG1s7Zrdc9soEMCf27+C0dPdQ2xJtmwnE6eTdubmMpOmN+dM516xtJa5YNAJVMv564tAX3asnCM7n00eIhYBgt8uywI+/ZQuKPoBsSCcjS2nY1sImM8DwsKxlcjZ0cj6dPbxNAQewjTGaMbjBZZjy8tKlvWU1OmN7CwPpYKcMH6FFyAi7MPEn8MCX3IfS110LmV00u0ul8tO0WiHx2E3DGUnFYGFVIeYGFt54kQ1t1Zp2dPFXdt2uv98vTTNHxEmJGY+WEh1NoAZTqgUKgkUFsAkkqsIxlbE6SrkzEIUT4GOrb8KOa8xtoa2dfbxwyklDCZyRQHJOfFvGAjVo56VN2ObxJ8kCCCDZnWzOmLOl4hP/wVftSPjBMrPaEGXUa+/cMpjFKtqnmpQQfYcC011o5hGc6xSHcc2f07/2HacgeOa2hSvIEY/MM1K6xycSO7rBnXuDFMBRVn16a88APOmn5dnZKH1gISEKOs6EhFAoFPl4CL1Ia3/WntETOY4go3vnHZzwFtRZxTXWJuMCrbzZLBtjdq+Q9p+brLNBGcJ87MGr77juBwdSyitERx4Vhsart1v4DH0nhtIG1MjTNbsTEnot1kM8HuNlGO3IlW3G9fznslynIeA+nDqcx4HAqVj6wpfWWiVP2/NUxfRzCbkdr0rJldPxWpEDwQfQARMTVW5Rt9pRX8w0vizx9Q83vFX+CkRFf1LLVTAe1vs3fRxF4NXC9CGazhynt9XNiNvs4TspoMj58Fz4Fs9oFBrd6vgwPWMIrLnu+/ZifsF+xtCshbOOb13+k9Ef93q+++rbY25LmLoiuz/2PL5IqKQHlAlAsJMKglPCrlUittuEX6xofNeKmmzYvBE0qwPF0yqjS/o6Fzc+fgNQHStKn9j1zFmItswmzIF3vtW9NqG6XJ9s+TuH8D+2tqD/9jaFCRqBhKfyP9RCfcTUenESKVSRr+MUnCSEkpwvDpA7LXfntdtt6Y3ry3uK9zzxnh1n6dvdyzwCs3ytXr6wtAbjXz/AOqVaPCQ7uOH4sQrx/E9F0uq2zbFb5PqI82LLYEsjiUIgtn9mpGQVqHptRZqR3MvUi3Ng1HKCqvOXRipdtZlhjMjihLDC1Uh1xX7jP2bMOYJC+704DCDf8GHNM04fc6IXw73i5FKnP0XaRwvwxOqoJaEwIzbEwildn6Ft7LNWNFtkZM6ec7KyXNunZq9qKHEJEXnRb3zovi5WyR6RaJfJLwa0HbRtVZ9pFxILZjZ8Nn9drvWt3C79oZN4glCLJYsIK45lqtCLk3LM65FtZcUZyxF33dxJQ121Gw1gpJAmdiCKGUdqR3IAqv1OduJTAWniYSJHwOw6qrcmPmSBHKe7f814RlJM4Myr+Y8JrecyRIIyqbJOdW36vWZsdWO3PvtaNOa1YD3vtPELKTVzD03UqUPc1auC20efG1XU52onQMddNxRzxl5PXvoDI+90WBHwM5oD8AHu2d5RPf0IGdSGHPsVweTPbvJMuzR0B0M+gPXOz4eOoP+8GC33yXGP8qM6va7XWiwsTS0O2iuza2tsLUZbRZ9ij3QlHMKuOL2uZBrV1J3/F5TILq7JT9ipOXPwb+Z8nRtam4w6NZ+89Mtfld09hNQSwcIQp7fBr4EAADeJAAAUEsDBBQACAgIAI9aEUsAAAAAAAAAAAAAAAAXAAAAZ2VvZ2VicmFfZGVmYXVsdHMzZC54bWztV0tu2zAUXDenILiPJerj2IGVwEgXLZAELbzplpaeZbYyqZD0L1frHXqmUpToyHHsIq6DokW1kIbk40czwydqcL2aFWgBUjHBE0w6PkbAU5Exnid4rifnPXx9dTbIQeQwlhRNhJxRneC4itz0M6VO2POrOrRS7JKLezoDVdIURukUZvRWpFTb0KnW5aXnLZfLjhu0I2Tu5bnurFSGkVkQVwluwKUZbqvTMrThge8T78vdbT38OeNKU54CRmaxGUzovNDKQChgBlwjvS4hwXTFVGimKOgYigQPq+J7jJr4BIfED/HV2buBmoolEuOvkJpaLeew6WMLXhVjmm9EISSSCTbvndv72N5pUU6pQYYPG1rQNUi0oEXVamvoXIvU9ra1E1oocLFmnjuRQd0SNfGczSyBSGkojVAYqRIgs6h+OTNvaSaywrXGY2o0pSXszsM4jPS6AKSnLP3GQRnSw9ZgFfjAsgwqX9R94IHXXVR1T3BJpZFZS5aauWsMho0f36vwgdeQvyODWSaHlg6fbHlLCCPvUUL0+1aJgPStFva5USM+lRr7OE2FkJlCq1p6tG6ej81z2bLEhFZbrFlFhxzQxD+kyX6SU8FZ2iL5IzfaKMNjZaJ0LhewZfz4OL6DOLaEk+Bix/zEry8S9X1CuiT4xzYDy4EvDFFCKpP1/CZ7rn2nuqtZEecH0tQ8NsCOY15FshUaun5DFz4MHAgdiByIW1Z6vivZrCxYyvRhfzzMaWY3bqPvZ1d+MkXok+NM4Ud78uHFm2/Bt1LS369k3eTEWjvwGJxIZDTsOnDhQM+B/sYIB/KtKNZTyKTgTym3VdUWvM4CL5JIDpN4yswRnMwmp04VB/JtlVJTKjUoRnkr8d5UDc+PGd3/x4zXf9I46A1B9xVuOzfe79xfbP/XqkDi0OoQkx0houaTF/e7ftSN/kIbq7mcmFP7S0ZumrZpj37r2NCLj/9EPI38R718MC22efZavyWe+/W5+glQSwcINYBSe+sCAACBDQAAUEsDBBQACAgIAI9aEUsAAAAAAAAAAAAAAAAMAAAAZ2VvZ2VicmEueG1stVhZj+M2En6e/IqCnhKsD5ISdQzsCSZZLLLAZBCks8FiHxagJdpmWpYESW7bg/nxW0VSttxXZro33a3moWJVfXWx7MX3x10Jd7rtTF0tAz5jAegqrwtTbZbBvl9P0+D7d98sNrre6FWrYF23O9UvA0mU53O4moUpoz1TLIM0DZM8TYtpnoTxNNIinaqUqalMOAv5KkvXBVLCsTNvq/qj2umuUbm+ybd6pz7Uueot023fN2/n88PhMBvEz+p2M99sVrNjVwSAqlfdMvCTt8ju6tAhtOSCMT7/988fHPupqbpeVbkOgGDtzbtv3iwOpirqAxxM0W+XQcxQua02my3ijGMRwJyIGgTb6Lw3d7rDo6OlxdzvmsCSqYrev3EzKM9wAijMnSl0uwzYLJIygLo1uur9a+7FzAcGizujD44TzayQiGUJmt10ZlXqZbBWZYdATLVu0YioQ7vHZdefSr1S7bC+qMAn9hdJzCdN3BCow74MwoRNuJSThLGJlMxpMxYdQF/XpeXL4PNnEEwwmNDA3SBwiGP3irk9FrpBuCFyg3Q0kTseOdLI0USOJgqfgenXF5x+4wroADIcg+QIjh508cSivwcyHYHkBOIzcNLeDiGQ3tzqT0Pkl7FbJnbgzO+m9C+jBdokTu3klZjCF2Hir5M6yJRx+uUyxdfIvB+lZ5giCR+KFPIJmK+07iCUy5FtUZb9s88DkeGrYL5EYnyVha+pBC8QnrBHS4AbuR+fM8lfoZTk4lor4CAxcSXwjOoRZaUALiHCnRR3EghpT/IIQiASHoItOpFNYEpmKfG8ZMCpMiEowNKGAAUVMylBxiATOkh1Ic4sM4YPUaM6+IS0F4b42L0wwofKm0RG0rFBJWQY2xmVE4n8JRkT7GaYQpShINrASxNC1AHXCQPkGBJ7bkFgCaU/Dq56JiBSQH6ImzizsTOcsV8QnvKxLLxK/MV8uKoW3hPQbYnay+z1riPfhBkkIcTi7KSYzOg9lQhIJCTxyF8T8lgsL04jl6VXTpPpyHPotpg2ExsGKI/s7rwoosGRE+/Kzw9ciZaPLsZHBYkVB8BIsQV88AJqIc5+EJJcIbDEYwgIiOnKeMIlATR1Z87W3eqyOfvBmtFUzb6/Ml2+K4ZpXyO1Km0b5OmLOr/94Z6xter6YY5E2E5c+hTXXly1MW8WpVrpEru9G4oEgDtVUmWx/Nd11cOQkiKw7GzHtND7vDSFUdXv6PihV/m43610C3ZaE0TLhI7D0FrZS2RoraIwdSR5XbfFzanDOIHjf3SLhwWPZtn4Bwvfyb0KH3nV5YpiPMqu36Cw0xOvMida393ovkf4Haij7gbLbVpTjOf/7H6oy+LsraY2Vf+javp9a/tkTJCWML2vNqW2hrQexoYzv13Vxxt3m8WO12+nhq5wJ3+1+bEu6xYwAQW1hBs/rtxoaUixMxWzNMxSeDcR0/N7nglLYceVGy0V+tip5oHyASUbpJgO3PoqoGx8UPe6r0z/YVj0Jr+9ACV65/3Bgtcs+f+J5WJ+L/AWt7qtdOmCqEI/7ut952LYucrqse/0L6rfvq+KX/UG0+8XRTWwR9aO9KJxoXOzw4Nu31tOkVf/haq63UJvWj0gdPno7OpTB7qm1arotlr3Z+u6EB+TWTiD+osub01DcQgrLMG3+hJrhekUFvBihOg6/cK/P5FDUzaLRcTSSIiYRVkUiksS4bsEO/40DpOU8yiWHHPlk3/HZ0kasURwvK/CmCODc4bJaCajFHteGSdJFIcY+Ucb9RSv9PHvk1+FbIZ3WpbxVERJht3xF+SbR/zyhHuQXn8S1Me/IKpPr+IpHuX56SU8m1L12nMbJcOXVByMrqahYMTMObdtI0bDneAFtfUfdKHUFfTW+OyRXKUopRztkJunNT0BQMdiQqlc1ehUte+3dWs/K6PyONpDu52qCqhs3/KPfWWPB5cLUzEs7zCF43+/Fd/BnDqBKZzOC+TKbQAoYT/FqtCtIlpZAPW+H/iskb2qnf5eMOVbqXf4Sd3DW3sVPv6u2rOL/EF746GloF6RTe750VtP311Er/54tLRbl6iy2Sr7bQFzPzLDRI4j76VSnei6HV3YVszPdaGvdjtU3yr8vizrgy4e1EfT3WxVox/sX66MfosRV+mus/o5M3A/+8kUha58NKDXna3IakcshB19QeTwA9XONcI/NgP1tWGr/U63Jj+bi6htc6HKvdeOvqByoE67VV2afFTBXVN0Zf3hY57jd8mNp8zORkbn3ug8yhjnMRdfaHU+3Bp4k9hAx5rcuERttHZ1Y8gTwCQ92Yp2Ke7PWxDT5eRNSNNvjxM4fQdLOMLf4PSITR8NVsvkT4z1fKwKFj1htuQro/OldvrKsB0zezZq5+MiZTte/93ju/8BUEsHCJFbJmUFBwAALBUAAFBLAQIUABQACAgIAI9aEUtFzN5dGgAAABgAAAAWAAAAAAAAAAAAAAAAAAAAAABnZW9nZWJyYV9qYXZhc2NyaXB0LmpzUEsBAhQAFAAICAgAj1oRS0Ke3wa+BAAA3iQAABcAAAAAAAAAAAAAAAAAXgAAAGdlb2dlYnJhX2RlZmF1bHRzMmQueG1sUEsBAhQAFAAICAgAj1oRSzWAUnvrAgAAgQ0AABcAAAAAAAAAAAAAAAAAYQUAAGdlb2dlYnJhX2RlZmF1bHRzM2QueG1sUEsBAhQAFAAICAgAj1oRS5FbJmUFBwAALBUAAAwAAAAAAAAAAAAAAAAAkQgAAGdlb2dlYnJhLnhtbFBLBQYAAAAABAAEAAgBAADQDwAAAAA="};

var ggbApplet1 = new GGBApplet(param1, '5.0');
var ggbApplet2 = new GGBApplet(param2, '5.0');
ggbApplet1.setHTML5Codebase('https://app.geogebra.org/5.0/web3d/');
ggbApplet2.setHTML5Codebase('https://app.geogebra.org/5.0/web3d/');
window.onload = function() {
	ggbApplet1.inject('geogebra1','preferHTML5');
	ggbApplet2.inject('geogebra2','preferHTML5');
	document.getElementById('funcao').value = '4-x^2/16-y^2/16';
	document.getElementById('xmin').value = 0;
	document.getElementById('xmax').value = 4;
	document.getElementById('ymin').value = 0;
	document.getElementById('ymax').value = 4;
	document.getElementById('n2').value = '1';
	document.getElementById('m2').value = '1';
	document.getElementById('n1').value = '1';
	document.getElementById('m1').value = '1';
	document.getElementById('sup1').checked = false;
	document.getElementById('sup2').checked = false;
	document.getElementById('inf1').checked = true;
	document.getElementById('inf2').checked = true;
}

var ggb1 = document.ggb1;
var ggb2 = document.ggb2;
var x1,x2,y1,y2,z1,z2; //variaveis da escala do grafico
var setggb2 = false;

function ggbOnInit(){
	ggb1 = document.ggb1;
	ggb2 = document.ggb2;
	ggb1.enableRightClick(false);
	ggb1.enableLabelDrags(false);
	ggb1.setCoordSystem(0,4,0,4,0,4);

	ggb2.enableRightClick(false);
	ggb2.enableLabelDrags(false);
	ggb2.evalCommand('inty = Integral(4-x^2/16-y^2/16, y)');
	if(!setggb2)
		ggb2.setCoordSystem(-4,4,-4,4,-4,4);
}

function setParticoes1(){
	ggb1.reset();
	var n = document.getElementById('n1').value;
	var m = document.getElementById('m1').value;
	riemann1(Number(n),Number(m));
}

function setParticoes2(){
	var funcao = document.getElementById('funcao').value;
	var n = document.getElementById('n2').value;
	var m = document.getElementById('m2').value;
	var xmin = document.getElementById('xmin').value;
	var xmax = document.getElementById('xmax').value;
	var ymin = document.getElementById('ymin').value;
	var ymax = document.getElementById('ymax').value;
	var inferior = document.getElementById('inf2').checked;
	
	if(entradaInvalida(funcao,xmin,xmax,ymin,ymax)){
		alert("ops");
		return;
	}

	x1 = xmin;
	x2 = xmax;
	y1 = ymin;
	y2 = ymax;
	z1 = 0;
	z2 = 0;

	ggb2.reset();
	ggb2.evalCommand('funcao = Function('+funcao+', '+xmin+','+xmax+', '+ymin+', '+ymax+')');
	ggb2.evalCommand('inty = Integral('+funcao+', y)');
	ggb2.setVisible('inty',false);
	ggb2.evalCommand('def = Integral(inty(x,'+ymax+') - inty(x,'+ymin+'),'+xmin+','+xmax+')');

	integracaoInferior(Number(xmin),Number(xmax),Number(ymin),Number(ymax),Number(n),Number(m));
	integracaoSuperior(Number(xmin),Number(xmax),Number(ymin),Number(ymax),Number(n),Number(m));
	ggb2.setCoordSystem(Number(x1),Number(x2),Number(y1),Number(y2),z1,z2);
	document.getElementById('valorExato').innerHTML = ggb2.getValue('def').toFixed(2);
	setggb2 = true;
}

function riemann1(px,py){
	var dx = 4/px;
	var dy = 4/py;
	var i,j,pi,py;

	if(document.getElementById('inf1').checked){
		for(j=1, pj=0; j<=py; j++, pj+=dy)
			for(i=1, pi=0; i<=px; i++, pi+=dx){
				ggb1.evalCommand('zFuncao = funcao('+(pi+dx)+','+(pj+dy)+')');
				ggb1.evalCommand('Prism(('+(pi+dx)+','+(pj+dy)+',0),('+pi+','+(pj+dy)+',0),('+pi+','+pj+',0),('+(pi+dx)+','+pj+',0),('+(pi+dx)+','+(pj+dy)+','+ggb1.getValue('zFuncao')+'))');
			}
	}
	else{
		for(j=1, pj=0; j<=py; j++, pj+=dy)
			for(i=1, pi=0; i<=px; i++, pi+=dx){
				ggb1.evalCommand('zFuncao = funcao('+(pi)+','+(pj)+')');
				ggb1.evalCommand('Prism(('+(pi)+','+(pj)+',0),('+pi+','+(pj+dy)+',0),('+(pi+dx)+','+(pj+dy)+',0),('+(pi+dx)+','+pj+',0),('+(pi)+','+(pj)+','+ggb1.getValue('zFuncao')+'))');
			}
	}
}

function integracaoInferior(xmin,xmax,ymin,ymax,px,py){
	var dx = (xmax-xmin)/px;
	var dy = (ymax-ymin)/py;
	var menor, somaInferior = 0;
	var inferior = document.getElementById('inf2').checked;
	var i,j,pi,py;

	for(j=1, pj=ymin; j<=py; j++, pj+=dy)
		for(i=1, pi=xmin; i<=px; i++, pi+=dx){
			ggb2.evalCommand('z1 = funcao('+(pi)+','+(pj)+')');
			ggb2.evalCommand('z2 = funcao('+(pi+dx)+','+(pj)+')');
			ggb2.evalCommand('z3 = funcao('+(pi)+','+(pj+dy)+')');
			ggb2.evalCommand('z4 = funcao('+(pi+dx)+','+(pj+dy)+')');
			menor = menorValor(ggb2.getValue('z1'),ggb2.getValue('z2'),ggb2.getValue('z3'),ggb2.getValue('z4'));
			somaInferior += dx*dy*menor;
			testeEscala(menor);
			if(inferior)
				ggb2.evalCommand('Prism(('+(pi+dx)+','+(pj+dy)+',0),('+pi+','+(pj+dy)+',0),('+pi+','+pj+',0),('+(pi+dx)+','+pj+',0),('+(pi+dx)+','+(pj+dy)+','+menor+'))');
		}
	document.getElementById('valorInferior').innerHTML = somaInferior.toFixed(2);
}

function integracaoSuperior(xmin,xmax,ymin,ymax,px,py){
	var dx = (xmax-xmin)/px;
	var dy = (ymax-ymin)/py;
	var maior, somaSuperior = 0;
	var superior = document.getElementById('sup2').checked;
	var i,j,pi,py;

	for(j=1, pj=ymin; j<=py; j++, pj+=dy)
		for(i=1, pi=xmin; i<=px; i++, pi+=dx){
			ggb2.evalCommand('z1 = funcao('+(pi)+','+(pj)+')');
			ggb2.evalCommand('z2 = funcao('+(pi+dx)+','+(pj)+')');
			ggb2.evalCommand('z3 = funcao('+(pi)+','+(pj+dy)+')');
			ggb2.evalCommand('z4 = funcao('+(pi+dx)+','+(pj+dy)+')');
			maior = maiorValor(ggb2.getValue('z1'),ggb2.getValue('z2'),ggb2.getValue('z3'),ggb2.getValue('z4'));
			somaSuperior += dx*dy*maior;
			testeEscala(maior);
			if(superior)
				ggb2.evalCommand('Prism(('+(pi+dx)+','+(pj+dy)+',0),('+pi+','+(pj+dy)+',0),('+pi+','+pj+',0),('+(pi+dx)+','+pj+',0),('+(pi+dx)+','+(pj+dy)+','+maior+'))');
		}
	document.getElementById('valorSuperior').innerHTML = somaSuperior.toFixed(2);
}

function entradaInvalida(funcao,xmin,xmax,ymin,ymax){
	var x=false, y=false;
	for(var i=0; i<funcao.length; i++){
		if(funcao[i]=='x')
			x=true;
		else if(funcao[i]=='y')
			y=true;
	}
	if(!x||!y){
		alert('A função deve ter x e y como parâmetro.')
		return true;
	}
	else if(isNaN(xmin)||isNaN(xmax)||isNaN(ymin)||isNaN(ymax)){
		alert('Domínio com entrada inválida.');
		return true
	}
	return false;
}

function setValorN1(){
	var n = document.getElementById('n1').value;
	var valorN = document.getElementById('valorN1');
	valorN.innerHTML = n;
}

function setValorN2(){
	var n = document.getElementById('n2').value;
	var valorN = document.getElementById('valorN2');
	valorN.innerHTML = n;
}

function setValorM1(){
	var m = document.getElementById('m1').value;
	var valorM = document.getElementById('valorM1');
	valorM.innerHTML = m;
}

function setValorM2(){
	var m = document.getElementById('m2').value;
	var valorM = document.getElementById('valorM2');
	valorM.innerHTML = m;
}

function menorValor(v1,v2,v3,v4){
	if(v1<=v2 && v1<=v3 && v1<=v4)
		return v1;
	if(v2<=v1 && v2<=v3 && v2<=v4)
		return v2;
	if(v3<=v1 && v3<=v2 && v3<=v4)
		return v3;
	else
		return v4;
}

function maiorValor(v1,v2,v3,v4){
	if(v1>=v2 && v1>=v3 && v1>=v4)
		return v1;
	if(v2>=v1 && v2>=v3 && v2>=v4)
		return v2;
	if(v3>=v1 && v3>=v2 && v3>=v4)
		return v3;
	else
		return v4;
}

function testeEscala(valor){
	if(valor>z2)
		z2 = valor;
	if(valor<z1)
		z1 = valor;
}