var param1 = {
	"id":"ggb1",
	"width":600,
	"height":500,
	"showToolBar":false,
	"borderColor":null,
	"showMenuBar":false,
	"showAlgebraInput":false,
	"showResetIcon":false,
	"enableLabelDrags":false,
	"enableShiftDragZoom":false,
	"enableRightClick":false,
	"capturingThreshold":null,
	"showToolBarHelp":false,
	"errorDialogsActive":false,
	"useBrowserForJS":true,
	"ggbBase64":"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"};
var param2 = {
	"id":"ggb2",
	"width":600,
	"height":500,
	"showToolBar":false,
	"borderColor":null,
	"showMenuBar":false,
	"showAlgebraInput":false,
	"showResetIcon":false,
	"enableLabelDrags":false,
	"enableShiftDragZoom":true,
	"enableRightClick":false,
	"capturingThreshold":null,
	"showToolBarHelp":false,
	"errorDialogsActive":false,
	"useBrowserForJS":true,
	"ggbBase64":"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"};

var ggbApplet1 = new GGBApplet(param1, '5.0');
var ggbApplet2 = new GGBApplet(param2, '5.0');
ggbApplet1.setHTML5Codebase('https://app.geogebra.org/5.0/web3d/');
ggbApplet2.setHTML5Codebase('https://app.geogebra.org/5.0/web3d/');
window.onload = function() {
	ggbApplet1.inject('geogebra1','preferHTML5');
	ggbApplet2.inject('geogebra2','preferHTML5');
	document.getElementById('funcao').value = '4-x^2/16-y^2/16';
	document.getElementById('xmin').value = '0';
	document.getElementById('xmax').value = '4';
	document.getElementById('ymin').value = '0';
	document.getElementById('ymax').value = '4';
	document.getElementById('n2').value = '1';
	document.getElementById('m2').value = '1';
	document.getElementById('n1').value = '1';
	document.getElementById('m1').value = '1';
	document.getElementById('sup1').checked = false;
	document.getElementById('sup2').checked = false;
	document.getElementById('inf1').checked = true;
	document.getElementById('inf2').checked = true;
}

var ggb1 = document.ggb1;
var ggb2 = document.ggb2;

function ggbOnInit(){
	ggb1 = document.ggb1;
	ggb1.enableRightClick(false);
	ggb1.enableLabelDrags(false);
	ggb1.setCoordSystem(0,4,0,4,0,4);
	ggb2 = document.ggb2;
	ggb2.enableRightClick(false);
	ggb2.enableLabelDrags(false);
	ggb2.setCoordSystem(-4,4,-4,4,-4,4);
}

function setParticoes1(){
	ggb1.reset();
	var n = document.getElementById('n1').value;
	var m = document.getElementById('m1').value;
	riemann1(Number(n),Number(m));
}

function setParticoes2(){
	ggb2.reset();
	var funcao = document.getElementById('funcao').value;
	var n = document.getElementById('n2').value;
	var m = document.getElementById('m2').value;
	var xmin = document.getElementById('xmin').value;
	var xmax = document.getElementById('xmax').value;
	var ymin = document.getElementById('ymin').value;
	var ymax = document.getElementById('ymax').value;
	ggb2.evalCommand('funcao = Function('+funcao+', '+xmin+','+xmax+', '+ymin+', '+ymax+')');
	//ggb2.evalCommandCAS('integral = Integral(Integral(funcao,y,'+ymin+','+ymax+'),x, '+xmin+', '+xmax+')');
	//document.getElementById('valorExato').innerHTML = ggb2.getValue('integral');
	riemann2(Number(xmin),Number(xmax),Number(ymin),Number(ymax),Number(n),Number(m));
}

function riemann1(px,py){
	var integral;
	var dx = 4/px;
	var dy = 4/py;
	if(document.getElementById('inf1').checked){
		for(var j=0; j<=4-dy; j+=dy)
			for(var i=0; i<=4-dx; i+=dx){
				ggb1.evalCommand('zFuncao = funcao('+(i+dx)+','+(j+dy)+')');
				ggb1.evalCommand('Prism(('+(i+dx)+','+(j+dy)+',0),('+i+','+(j+dy)+',0),('+i+','+j+',0),('+(i+dx)+','+j+',0),('+(i+dx)+','+(j+dy)+','+ggb1.getValue('zFuncao')+'))');
			}
	}
	else{
		for(var j=0; j<=4-dy; j+=dy)
			for(var i=0; i<=4-dx; i+=dx){
				ggb1.evalCommand('zFuncao = funcao('+(i)+','+(j)+')');
				ggb1.evalCommand('Prism(('+(i)+','+(j)+',0),('+i+','+(j+dy)+',0),('+(i+dx)+','+(j+dy)+',0),('+(i+dx)+','+j+',0),('+(i)+','+(j)+','+ggb1.getValue('zFuncao')+'))');
			}
	}
}

function riemann2(xmin,xmax,ymin,ymax,px,py){
	var integral=0;
	var menor,maior;
	var dx = (xmax-xmin)/px;
	var dy = (ymax-ymin)/py;
	if(document.getElementById('inf2').checked){
		for(var j=ymin; j<=ymax-dy; j+=dy){
			for(var i=xmin; i<=xmax-dx; i+=dx){
				ggb2.evalCommand('z1 = funcao('+(i)+','+(j)+')');
				ggb2.evalCommand('z2 = funcao('+(i+dx)+','+(j)+')');
				ggb2.evalCommand('z3 = funcao('+(i)+','+(j+dy)+')');
				ggb2.evalCommand('z4 = funcao('+(i+dx)+','+(j+dy)+')');
				menor = menorValor(ggb2.getValue('z1'),ggb2.getValue('z2'),ggb2.getValue('z3'),ggb2.getValue('z4'));
				ggb2.evalCommand('Prism(('+(i+dx)+','+(j+dy)+',0),('+i+','+(j+dy)+',0),('+i+','+j+',0),('+(i+dx)+','+j+',0),('+(i+dx)+','+(j+dy)+','+menor+'))');
				integral += dx*dy*menor;
			}
		}
	}
	else{
		for(var j=ymin; j<=ymax-dy; j+=dy){
			for(var i=xmin; i<=xmax-dx; i+=dx){
				ggb2.evalCommand('z1 = funcao('+(i)+','+(j)+')');
				ggb2.evalCommand('z2 = funcao('+(i+dx)+','+(j)+')');
				ggb2.evalCommand('z3 = funcao('+(i)+','+(j+dy)+')');
				ggb2.evalCommand('z4 = funcao('+(i+dx)+','+(j+dy)+')');
				maior = maiorValor(ggb2.getValue('z1'),ggb2.getValue('z2'),ggb2.getValue('z3'),ggb2.getValue('z4'));
				ggb2.evalCommand('Prism(('+(i+dx)+','+(j+dy)+',0),('+i+','+(j+dy)+',0),('+i+','+j+',0),('+(i+dx)+','+j+',0),('+(i+dx)+','+(j+dy)+','+maior+'))');
				integral += dx*dy*maior;
			}
		}
	}
	document.getElementById('valorAproximado').innerHTML = integral.toFixed(2);
}

function setValorN1(){
	var n = document.getElementById('n1').value;
	var valorN = document.getElementById('valorN1');
	valorN.innerHTML = n;
}

function setValorN2(){
	var n = document.getElementById('n2').value;
	var valorN = document.getElementById('valorN2');
	valorN.innerHTML = n;
}

function setValorM1(){
	var m = document.getElementById('m1').value;
	var valorM = document.getElementById('valorM1');
	valorM.innerHTML = m;
}

function setValorM2(){
	var m = document.getElementById('m2').value;
	var valorM = document.getElementById('valorM2');
	valorM.innerHTML = m;
}

function menorValor(v1,v2,v3,v4){
	if(v1<=v2 && v1<=v3 && v1<=v4)
		return v1;
	if(v2<=v1 && v2<=v3 && v2<=v4)
		return v2;
	if(v3<=v1 && v3<=v2 && v3<=v4)
		return v3;
	else
		return v4;
}

function maiorValor(v1,v2,v3,v4){
	if(v1>=v2 && v1>=v3 && v1>=v4)
		return v1;
	if(v2>=v1 && v2>=v3 && v2>=v4)
		return v2;
	if(v3>=v1 && v3>=v2 && v3>=v4)
		return v3;
	else
		return v4;
}