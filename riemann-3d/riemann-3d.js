var param = {
	"id":"ggb",
	"width":600,
	"height":500,
	"showToolBar":false,
	"borderColor":null,
	"showMenuBar":false,
	"showAlgebraInput":false,
	"showResetIcon":false,
	"enableLabelDrags":false,
	"enableShiftDragZoom":true,
	"enableRightClick":false,
	"capturingThreshold":null,
	"showToolBarHelp":false,
	"errorDialogsActive":false,
	"useBrowserForJS":true,
	"ggbBase64":"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"};
var ggbApplet = new GGBApplet(param, '5.0');
ggbApplet.setHTML5Codebase('https://app.geogebra.org/5.0/web3d/');
window.onload = function() {
	ggbApplet.inject('geogebra','preferHTML5');
}

var ggb = document.ggb;

function ggbOnInit(){
	ggb = document.ggb;
	ggb.enableRightClick(false);
	ggb.enableLabelDrags(false);
	ggb.setCoordSystem(-4,4,-4,4,-4,4);
}

function riemann(xmin,xmax,ymin,ymax,px,py){
	var integral;
	var dx = (xmax-xmin)/px;
	var dy = (ymax-ymin)/py;
	for(var j=ymin; j<=ymax-dy; j+=dy){
		for(var i=xmin; i<=xmax-dx; i+=dx){
			ggb.evalCommand('zFuncao = funcao('+(i+dx)+','+(j+dy)+')');
			ggb.evalCommand('Prism(('+(i+dx)+','+(j+dy)+',0),('+i+','+(j+dy)+',0),('+i+','+j+',0),('+(i+dx)+','+j+',0),('+(i+dx)+','+(j+dy)+','+ggb.getValue('zFuncao')+'))');
		}
	}
}

function setParticoes(){
	ggb.reset();
	ggb.deleteObject('prismaInicial');
	var funcao = document.getElementById('funcao').value;
	var n = document.getElementById('n').value;
	var m = document.getElementById('m').value;
	var xmin = document.getElementById('xmin').value;
	var xmax = document.getElementById('xmax').value;
	var ymin = document.getElementById('ymin').value;
	var ymax = document.getElementById('ymax').value;
	var valorN = document.getElementById('valorN');
	valorN.innerHTML = n;
	valorM.innerHTML = m;
	ggb.evalCommand('funcao = Function('+funcao+', '+xmin+','+xmax+', '+ymin+', '+ymax+')');
	riemann(Number(xmin),Number(xmax),Number(ymin),Number(ymax),Number(n),Number(m));
}